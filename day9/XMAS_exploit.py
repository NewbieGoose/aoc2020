#!/usr/bin/env python3

import sys
from functools import reduce

def sum_exists(l, num):
    l = sorted(l)
    bot = len(l) - 1
    top = 0
    while top < bot:
        if l[top] + l[bot] - num == 0:
            return True
        elif l[top] + l[bot] - num < 0:
            top += 1
        else:
            bot -= 1
    return False
    

if __name__ == "__main__":
    FILENAME = 'input.txt'
    CONST = 25
    if len(sys.argv) > 1:
        FILENAME = sys.argv[1]
    if len(sys.argv) > 2:
        CONST = int(sys.argv[2])
    
    
    with open(FILENAME) as inp:
        data = [int(line.strip()) for line in inp.readlines()]
    
    for index in range(len(data) - CONST):
        s = data[index:index+CONST]
        d = data[index+CONST]
        if not sum_exists(s,d):
            print(f'Number {d} on index {index+26}')
            break
    
    top = 0
    bot = 1
    CONST = d

    while bot < len(data) - 1:
        d = data[top:bot+1]
        o = sum(d)
        if o - CONST == 0:
            s = max(d) + min(d)
            print(f"Found numbers {d} which sum to {o} == {CONST} and produce {s}")
            break
        elif o - CONST > 0:
            top += 1
        else:
            bot += 1